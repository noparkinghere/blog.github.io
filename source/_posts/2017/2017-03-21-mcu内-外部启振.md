---
layout: "post"
title: "22/70 MCU内/外部启振"
date: "2017-03-21 15:34"
---

振荡电路相当于 MCU 的心脏，需要为 MCU 提供频率和脉冲，因此一个精准可靠的振荡电路对于 MCU 来说相当重要。

### 简述

振荡电路一般可以分为：LC振荡器，RC振荡器，晶体振荡器。
- LC振荡器：LC振荡电路主要用来产生高频正弦信号，一般在1MHz以上。它与RC振荡电路的不同之处在于它由电感和电容组成。所以命名为LC振荡器。
- RC振荡器：若用电阻，电容元件组成选频网络，就称为RC振荡器，一般用来产生1Hz-1MHz的低频信号。RC选频网络的选频作用不如LC谐振荡回路，故RC振荡器的波形和稳定度比LC振荡器差。
- 晶体振荡器：晶体振荡器是指从一块石英晶体上按一定方位角切下薄片（简称为晶片），石英晶体谐振器，简称为石英晶体或晶体、晶振；而在封装内部添加IC组成振荡电路的晶体元件称为晶体振荡器。其产品一般用金属外壳封装，也有用玻璃壳、陶瓷或塑料封装的。

*根据以上三种可以设计出多种不同的电路。*

### 晶振和振子

晶体全称叫晶体谐振器(crystal resonator)，是一种谐振器，具有压电特性,不能输出信号。

晶振全称叫晶体振荡器(crystal oscillator)，是一种振荡器，振荡电路由晶体、主振有源器件、主振电容等元器件组成，能够输出信号。通常我们所指晶振时往往喜欢用 crystal 其实这是不准确，而国外有的文档却喜欢用 oscillator，一般在表述时，两者其实是一个东西。

MCU 自带的内部振荡器，一般是 RCO （RC-oscillator），而外部配置的振荡电路可以是 RCO （RC-oscillator），也可以是有源晶振 XO（crystal resonator）。

使用RC振荡是电容充放电；而使用晶振振荡时，晶振也是电容性质，它比RC振荡的电流大，如果你摸过正在工作的各种晶振，会发现有些晶振发热，而RC振荡从无发热现象；这在各种单片机中都适用。相对于单片机电路，使用外部晶振更耗电一些，因为外部晶振分为无源和有源，当用有源时，功耗那是明显高的，因为有源外部晶振需要从电源吸取能量。

但使用内部晶振虽然能耗低，但晶振的稳定度和频率控制的都很差，很多都达到了 5% 以上的误差，仅作为不精准的定时简单的使用还可以，稍严格一些的场景都无法满足要求。

使用内部振荡器往往可以配置 RCO 让 MCU 获得某些/某段特定的时钟频率，灵活度更高些；而使用外部晶振的话，一般晶振频率是固定的，MCU 仅能够对该频率进行分频或者倍频。

***
> 参考链接：
> http://www.eetrend.com/blog/100024294
> https://zhidao.baidu.com/question/464742897.html
> http://blog.csdn.net/qq_29350001/article/details/51142250
> https://zh.wikipedia.org/wiki/%E7%94%B5%E5%AD%90%E6%8C%AF%E8%8D%A1%E5%99%A8
